/***************************************************************************//**
 @file     calefactor.c
 @brief    calefactor for .c file
 @author   Conradeus
 ******************************************************************************/

/*******************************************************************************
 * INCLUDE HEADER FILES
 ******************************************************************************/
#include "calefactor.h"
#include "pwm.h"
#include "gpio.h"
#include "board.h"
/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/
#define POTENCIA_OFF 0
#define POTENCIA_ON ((uint16_t) 100) //duty cicle de 50%

/*******************************************************************************
 * ENUMERATIONS AND STRUCTURES AND TYPEDEFS
 ******************************************************************************/

/*******************************************************************************
 * VARIABLES WITH GLOBAL SCOPE
 ******************************************************************************/

/*******************************************************************************
 * FUNCTION PROTOTYPES FOR PRIVATE FUNCTIONS WITH FILE LEVEL SCOPE
 ******************************************************************************/

/*******************************************************************************
 * STATIC VARIABLES AND CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/

/*******************************************************************************
 *******************************************************************************
 GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/
void calefactor_setPotencia(uint16_t potencia){
    pwm_setDC(potencia);
}

void calefactor_turnOn(void){
   // pwm_setDC(POTENCIA_ON);
    gpioWrite(PIN_PWM,HIGH);

}


void calefactor_turnOff(void){
    pwm_setDC(POTENCIA_OFF);
}

char calefactor_status(void){
    int dc = pwm_getDC();
    if (dc>10)
    {
        return true;
    }
    else{
        return false;
    }
    
}

/*******************************************************************************
 LOCAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/





/******************************************************************************/

